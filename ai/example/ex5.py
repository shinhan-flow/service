import os
from openai import OpenAI
from dotenv import load_dotenv

load_dotenv()

client = OpenAI(
    api_key=os.getenv("API_KEY")
)

chat_completion = client.chat.completions.create(
    messages=[
        
        {
            "role": "user",
            "content": "자동차가 3대가 있어, 오토바이는 12대가 있어. 이중 바퀴가 모두 터진 장비는 총 4대야. 그런데 터진 바퀴가 총12개면 자동차와 오토바이는 각각 몇 대 고장났을까?",
        },

    ],
    model="gpt-4o-mini",
)
print("Answer 1")
print(chat_completion.choices[0].message.content)
print()

chat_completion = client.chat.completions.create(
    messages=[
        {
            "role":"system",
            "content":"""문제를 풀때 중간 과정을 설명해. 중간 단계는 문제 분석, 계산, 검증의 과정을 걸쳐.
"""
        },

        {
            "role": "user",
            "content": "자동차가 3대가 있어, 오토바이는 12대가 있어. 이중 바퀴가 모두 터진 장비는 총 4대야. 그런데 터진 바퀴가 총12개면 자동차와 오토바이는 각각 몇 대 고장났을까?",
        },

    ],
    model="gpt-4o-mini",
)
print("Answer 2")
print(chat_completion.choices[0].message.content)
print()

# # Answer 1
"""문제를 이해해보면, 자동차와 오토바이의 바퀴 수와 터진 바퀴 수에 대한 정보를 가지고 있습니다.

자동차 1대는 바퀴가 4개이고, 오토바이 1대는 바퀴가 2개입니다. 

- 자동차 3대의 바퀴 수: 3대 × 4개 = 12개
- 오토바이 12대의 바퀴 수: 12대 × 2개 = 24개

총 바퀴 수는 12개(자동차) + 24개(오토바이) = 36개입니다.

문제에서 터진 바퀴가 총 12개라고 했으므로, 이를 바탕으로 고장난 자동차와 오토바이의 대수를 알아낼 수 있습니다.

자동차가 터진 바퀴 수를 \( x \)대(터져 있는 자동차), 오토바이가 터진 바퀴 수를 \( y \)대(터져 있는 오토바이)로 두면:

1. 자동차에서 터진 바퀴의 수는 \( 4x \)
2. 오토바이에서 터진 바퀴의 수는 \( 2y \)

따라서, 다음과 같은 방정식을 설정할 수 있습니다:

\[
4x + 2y = 12
\]

또한 자동차와 오토바이의 개수에 대한 제약조건은 다음과 같습니다:

\[
x \leq 3 \quad (자동차 대수)
\]

\[
y \leq 12 \quad (오토바이 대수)
\]

우선 첫 번째 방정식에서 \( 2y \)를 분리하면:

\[
2y = 12 - 4x
\]

여기서 \( y \)에 대하여 정리하면:

\[
y = 6 - 2x
\]

이제 \( x \)의 가능한 값을 대입하여 \( y \)를 구해보겠습니다:

1. \( x = 0 \): \( y = 6 - 2(0) = 6 \)
2. \( x = 1 \): \( y = 6 - 2(1) = 4 \)
3. \( x = 2 \): \( y = 6 - 2(2) = 2 \)
4. \( x = 3 \): \( y = 6 - 2(3) = 0 \)

따라서, 다음과 같은 조합이 가능합니다:

- 자동차가 터진 대수: 0, 오토바이 터진 대수: 6
- 자동차가 터진 대수: 1, 오토바이 터진 대수: 4
- 자동차가 터진 대수: 2, 오토바이 터진 대수: 2
- 자동차가 터진 대수: 3, 오토바이 터진 대수: 0

위의 항목 중에서 어떤 조합이든 \( x \)와 \( y \)는 각 범위를 만족합니다.

결론적으로, 자동차와 오토바이의 터진 대수는 여러 가지 조합이 가능하며 위의 네 가지 경우 중 하나가 될 수 있습니다."""

# # Answer 2
"""이 문제를 해결하기 위해 먼저 주어진 정보를 정리해보겠습니다.

1. 자동차는 3대이고, 오토바이는 12대입니다.
2. 바퀴가 모두 터진 장비는 총 4대입니다.
3. 터진 바퀴의 총 개수는 12개입니다.

자동차와 오토바이의 바퀴 수를 아는 것이 중요합니다. 일반적으로 자동차는 4개의 바퀴가 있고, 오토바이는 2개의 바퀴가 있습니다.

차와 오토바이의 바퀴 수를 정리해보면:
- 자동차: 3대 × 4바퀴 = 12바퀴
- 오토바이: 12대 × 2바퀴 = 24바퀴

터진 바퀴의 총 개수는 12개이며, 4대의 장비가 모두 터졌다고 했습니다. 즉, 이 4대가 각각 자동차와 오토바이로 구성되어 있습니다.

이제 고장난 자동차의 대수와 오토바이의 대수를 x와 y라고 하겠습니다. 
따라서 다음의 두 가지 방정식을 세울 수 있습니다:

1. 고장난 자동차와 오토바이의 합: \( x + y = 4 \)
2. 터진 바퀴의 총 수: \( 4x + 2y = 12 \)

이 두 방정식을 풀어보겠습니다.

**1단계: 두 방정식 정리**
 
첫 번째 방정식에서 \( y \)를 \( y = 4 - x \)로 정리합니다.

**2단계: 두 번째 방정식에 대입**

이제 \( y \)의 값을 두 번째 방정식에 대입합니다.
\[
4x + 2(4 - x) = 12
\]
\[
4x + 8 - 2x = 12
\]
\[
2x + 8 = 12
\]
\[
2x = 12 - 8
\]
\[
2x = 4
\]
\[
x = 2
\]

**3단계: y 값 구하기**

이제 \( x \)의 값을 첫 번째 방정식에 대입하여 \( y \)를 구합니다.
\[
x + y = 4
\]
\[
2 + y = 4 \implies y = 4 - 2 = 2
\]

**결과 확인:**
- 고장난 자동차는 2대, 고장난 오토바이는 2대입니다.
- 터진 바퀴 수를 확인해 봅시다: 자동차 2대는 각각 4개, 총 8개 + 오토바이 2대는 각각 2개, 총 4개. 따라서 \( 8 + 4 = 12 \)개가 맞습니다.

따라서 자동차는 2대, 오토바이는 2대 고장났습니다. 

**결론:** 고장난 자동차: 2대, 고장난 오토바이: 2대."""