import os
from openai import OpenAI
from dotenv import load_dotenv

load_dotenv()

client = OpenAI(
    api_key=os.getenv("API_KEY")
)

chat_completion = client.chat.completions.create(
    messages=[
        
        {
            "role": "user",
            "content": """
자동차가 3대가 있어, 오토바이는 12대가 있어. 바퀴가 모두 터진 기기는 총 3대야.
이 때 터진 바퀴의 수가 12개라면, 오토바이랑 자동차 중 고장난 기기는 각각 몇대일까?
내 생각에는 '오토바이 2대와 자동차 1대가 고장난 거 같아 맞아?

"""
        },

    ],
    model="gpt-4o-mini",
)
print("# Answer 1")
print('\"\"\"',chat_completion.choices[0].message.content,'\"\"\"')
print()

chat_completion = client.chat.completions.create(
    messages=[
        {
            "role":"system",
            "content":"""너가 사용자에게 판단하는 요청을 받는 경우, 반드시 먼저 너가 문제를 해결하고 그 다음에 판단을 해
"""
        },

        {
            "role": "user",
            "content": """자동차가 3대가 있어, 오토바이는 12대가 있어. 바퀴가 모두 터진 기기는 총 3대야.
이 때 터진 바퀴의 수가 12개라면, 오토바이랑 자동차 중 고장난 기기는 각각 몇대일까?
내 생각에는 '오토바이 2대와 자동차 1대가 고장난 거 같아 맞아?
"""
        },

    ],
    model="gpt-4o-mini",
)
print("# Answer 2")
print('\"\"\"',chat_completion.choices[0].message.content,'\"\"\"')
print()

# Answer 1
""" 자동차는 4개의 바퀴가 있고, 오토바이는 2개의 바퀴가 있습니다. 주어진 정보를 바탕으로 문제를 해결해 보겠습니다.

- 자동차 3대가 있으면, 총 바퀴 수는 \(3 \times 4 = 12\)개입니다.
- 오토바이 12대가 있으면, 총 바퀴 수는 \(12 \times 2 = 24\)개입니다.

따라서, 총 바퀴 수는 \(12 + 24 = 36\)개입니다.

문제에서 "바퀴가 모두 터진 기기는 총 3대"라고 했고, 터진 바퀴의 수가 12개라고 했습니다.

만약 자동차가 \(x\)대 고장났고, 오토바이가 \(y\)대 고장났다면, 다음 두 가지 장치를 통해 식을 세울 수 있습니다:

1. 고장난 기기의 수: \(x + y = 3\)
2. 터진 바퀴의 수: \(4x + 2y = 12\)

이 두 식을 풀어보겠습니다.

첫 번째 식 \(y = 3 - x\)을 두 번째 식에 대입하면:

\[
4x + 2(3 - x) = 12
\]
\[
4x + 6 - 2x = 12
\]
\[
2x + 6 = 12
\]
\[
2x = 6
\]
\[
x = 3
\]

이제 \(x\) 값을 첫 번째 식에 대입하면:

\[
3 + y = 3 \implies y = 0
\]

따라서 고장난 기기는 자동차 3대이고, 오토바이는 고장나지 않은 것입니다. 당신의 생각은 잘못되었습니다. 고장난 기기는 자동차 3대, 오토바이는 0대입니다. """

# Answer 2
""" 먼저 주어진 정보를 정리해봅시다.

1. 자동차는 3대이고, 각 자동차는 바퀴가 4개입니다. 따라서 자동차의 총 바퀴 수는 3대 × 4개 = 12개입니다. 
2. 오토바이는 12대이고, 각 오토바이는 바퀴가 2개입니다. 따라서 오토바이의 총 바퀴 수는 12대 × 2개 = 24개입니다. 
3. 전체 바퀴 수는 자동차와 오토바이의 바퀴 수를 합치면 12개 + 24개 = 36개입니다.
4. 터진 바퀴의 수는 총 12개입니다.
5. 고장난 기기는 자동차와 오토바이가 있으며, 고장난 기기를 각각 몇 대인지 알아내는 것이 문제입니다. 

이제 고장난 자동차와 오토바이의 조합을 고려해 봅시다.

가정:
- 자동차가 고장났을 때 4개의 바퀴가 터질 수 있습니다.
- 오토바이가 고장났을 때 2개의 바퀴가 터질 수 있습니다.

고장난 기기의 수를 x(고장난 자동차 개수)와 y(고장난 오토바이 개수)로 두고 방정식을 세워봅시다:

1. 4x + 2y = 12 (고장난 바퀴의 총 수)
2. x + y = 총 고장난 기기(자동차와 오토바이의 대수)

여기서 가능한 조합을 찾아보면:

- 만약 자동차 1대 (4개 바퀴)와 오토바이 2대 (4개 바퀴)가 터졌다면: 
  - 4 * 1 + 2 * 2 = 4 + 4 = 8 (불가능)
  
- 만약 자동차 0대와 오토바이 6대가 고장났다면:
  - 4 * 0 + 2 * 6 = 0 + 12 = 12 (가능, 고장난 기기는 6대)

- 만약 자동차 1대와 오토바이 4대가 고장났다면:
  - 4 * 1 + 2 * 4 = 4 + 8 = 12 (가능, 고장난 기기는 5대)

- 만약 자동차 2대와 오토바이 1대가 고장났다면:
  - 4 * 2 + 2 * 1 = 8 + 2 = 10 (불가능)

결과적으로 가능한 조합은 "고장난 자동차 0대, 오토바이 6대" 또는 "고장난 자동차 1대, 오토바이 4대"입니다.

결론적으로, "오토바이 2대와 자동차 1대가 고장났다"는 주장은 맞지 않습니다. 제안된 조합 중 올바르게 고장난 기기의 조합은 자동차 0대, 오토바이 6대 또는 자동차 1대, 오토바이 4대입니다. """